<div class="is-required"
     ng-class="{
       'is-required-true': !uiStatus.nothingInCart && uiStatus.required,
       'is-required-false': !uiStatus.nothingInCart && !uiStatus.required,
       'is-required-unavailable': uiStatus.nothingInCart
     }"></div>

<div class="cell">
  <span class="credits">{{subject.credits | number:2}}</span>
  <div class="left-side">
    <span class="name">{{subject.name}}</span>
    <span class="code">{{subject.code}}</span>
  </div>

  <div class="actions" role="group" aria-label="Actions for subject">
    <button class="chevron"
            type="button"
            aria-label="Expand/Collapse"
            ng-click="uiStatus.expanded = !uiStatus.expanded">
      <i class="fa"
         ng-class="{'fa-chevron-right': !uiStatus.expanded, 'fa-chevron-down': uiStatus.expanded}"
         aria-hidden="true"></i>
    </button>
    <button class="btn btn-cart"
            ng-class="{'btn-cart-add': !uiStatus.allInCart, 'btn-cart-remove': uiStatus.allInCart}"
            aria-label="Add to/Remove from cart">
      <i class="fa"
         ng-class="{'fa-plus': !uiStatus.allInCart, 'fa-minus': uiStatus.allInCart}"
         aria-hidden="true"></i>
      {{!uiStatus.allInCart ? 'Add to cart' : 'Remove from cart'}}
    </button>
  </div>
</div>

<ul class="courses" ng-show="uiStatus.expanded">
  <li class="course"
      ng-repeat="course in courses track by course.id"
      ds-repeat-done="updateCourses()">
    <span class="code">{{course.code}}</span>
    <span class="instructor">{{course.instructor}}</span>

    <div class="actions" role="group"
         aria-label="Actions for course">
      <button class="btn btn-cart btn-xs"
              ng-class="{'btn-cart-add': !courseAddedToCart[course.id], 'btn-cart-remove': courseAddedToCart[course.id]}"
              type="button">
        <i class="fa"
           ng-class="{'fa-plus': !courseAddedToCart[course.id], 'fa-minus': courseAddedToCart[course.id]}"></i>
      </button>
    </div>
  </li>
</ul>
